const App=function(){let e={btnMobile:document.getElementById("btn-mobile"),headerMenu:document.getElementById("header-menu"),modal:document.getElementById("project-modal"),modalCloseBtn:document.getElementById("modal-close"),modalBody:document.getElementById("modal-body"),formDoacao:document.querySelector(".apoie__form"),formCadastro:document.querySelector(".cadastro__form"),selectCausa:document.getElementById("causa-doacao"),btnTopo:document.getElementById("btnTopo"),logo:document.querySelector('.logo, .header__logo, [class*="logo"], header img')},t={init(){e.btnMobile&&e.headerMenu&&e.btnMobile.addEventListener("click",this.toggleMenu.bind(this))},toggleMenu(){let t=e.headerMenu.classList.toggle("nav-open");e.btnMobile.setAttribute("aria-expanded",t),e.btnMobile.setAttribute("aria-label",t?"Fechar menu":"Abrir menu")}},o={currentIndex:0,init(){e.modal&&this.setupEventListeners()},setupEventListeners(){document.querySelectorAll(".btn--saiba-mais").forEach(e=>{e.addEventListener("click",()=>this.open(e))}),e.modalCloseBtn.addEventListener("click",()=>this.close()),e.modal.addEventListener("click",t=>{t.target===e.modal&&this.close()}),document.addEventListener("click",t=>{t.target.classList.contains("btn--doar-especifico")&&e.modal.contains(t.target)&&this.handleDonationClick(t.target)})},open(t){let o=t.getAttribute("aria-controls"),a=document.getElementById(o),s=t.closest(".causa-card"),i=s.querySelector("h3").innerHTML;a&&(e.modalBody.innerHTML="<h3>"+i+"</h3>"+a.innerHTML,e.modal.classList.add("visible"),e.modal.setAttribute("aria-hidden","false"),document.body.style.overflow="hidden",this.initializeGallery(),this.setupCustomVideoPlay())},close(){let t=e.modalBody.querySelector("video");t&&t.pause(),e.modal.classList.remove("visible"),e.modal.setAttribute("aria-hidden","true"),e.modalBody.innerHTML="",document.body.style.overflow="auto"},initializeGallery(){let t=e.modalBody.querySelector(".gallery-main-view"),o=e.modalBody.querySelectorAll(".gallery-media-item"),a=e.modalBody.querySelectorAll(".gallery-thumb-item"),s=e.modalBody.querySelector(".gallery-arrow.next"),i=e.modalBody.querySelector(".gallery-arrow.prev"),l=e.modalBody.querySelector("video");t&&0!==o.length&&(this.currentIndex=0,a.forEach(e=>{e.addEventListener("click",()=>{this.showMedia(parseInt(e.dataset.index),l)})}),s&&s.addEventListener("click",()=>this.nextMedia(o.length,l)),i&&i.addEventListener("click",()=>this.prevMedia(o.length,l)))},showMedia(t,o){0===this.currentIndex&&0!==t&&o&&o.pause(),this.currentIndex=t,e.modalBody.querySelectorAll(".gallery-media-item, .gallery-thumb-item").forEach(e=>e.classList.remove("active"));let a=e.modalBody.querySelector(`.gallery-media-item[data-index="${t}"]`),s=e.modalBody.querySelector(`.gallery-thumb-item[data-index="${t}"]`);a&&a.classList.add("active"),s&&s.classList.add("active")},nextMedia(e,t){let o=this.currentIndex+1;o>=e&&(o=0),this.showMedia(o,t)},prevMedia(e,t){let o=this.currentIndex-1;o<0&&(o=e-1),this.showMedia(o,t)},setupCustomVideoPlay(){let t=e.modalBody.querySelectorAll(".custom-play-overlay");t.forEach(e=>{let t=e.closest(".gallery-media-item").querySelector("video"),o=e.querySelector(".play-button");t&&o&&(o.addEventListener("click",()=>{t.play(),e.classList.add("hidden")}),t.addEventListener("ended",()=>{e.classList.remove("hidden")}),t.addEventListener("pause",()=>{t.ended||e.classList.remove("hidden")}),t.addEventListener("play",()=>{e.classList.add("hidden")}))})},handleDonationClick(t){let o=t.dataset.causa;e.selectCausa&&(e.selectCausa.value=o,this.close(),this.scrollToDonation())},scrollToDonation(){let e=document.getElementById("doar-agora");e&&setTimeout(()=>{e.scrollIntoView({behavior:"smooth",block:"start"})},300)}},a={init(){this.setupLoginButtons(),this.setupDonationForm(),this.setupCadastroForm(),this.setupMascaras()},setupLoginButtons(){document.querySelectorAll(".btn--login").forEach(e=>{e.addEventListener("click",e=>{e.preventDefault(),this.showAlert("Sistema de login em desenvolvimento.\n\n(Isso \xe9 uma simula\xe7\xe3o para o projeto da faculdade)")})})},setupDonationForm(){e.formDoacao&&e.formDoacao.addEventListener("submit",t=>{t.preventDefault(),this.showAlert("Doa\xe7\xe3o recebida com sucesso!\n\nMuito obrigado por sua contribui\xe7\xe3o.\n(Isso \xe9 uma simula\xe7\xe3o para o projeto da faculdade)"),e.formDoacao.reset(),e.selectCausa&&(e.selectCausa.value="geral")})},setupCadastroForm(){e.formCadastro&&e.formCadastro.addEventListener("submit",t=>{t.preventDefault(),this.showAlert("Cadastro efetuado com sucesso!\n\nEm breve entraremos em contato.\n(Isso \xe9 uma simula\xe7\xe3o para o projeto da faculdade)"),e.formCadastro.reset()})},setupMascaras(){"undefined"!=typeof jQuery&&jQuery(document).ready(function(e){e("#cpf").mask("000.000.000-00",{reverse:!0}),e("#cep").mask("00000-000");var t=function(e){return 11===e.replace(/\D/g,"").length?"(00) 00000-0000":"(00) 0000-00009"};e("#telefone").mask(t,{onKeyPress:function(e,o,a,s){a.mask(t.apply({},arguments),s)}})})},showAlert(e){alert(e)}},s={init(){this.setupLogoClick(),this.setupBackToTop(),this.setupDonationButtons()},setupLogoClick(){e.logo&&(e.logo.style.cursor="pointer",e.logo.addEventListener("click",()=>{window.location.href="index.html"}))},setupBackToTop(){e.btnTopo&&(window.addEventListener("scroll",()=>{let t=window.scrollY>300;e.btnTopo.classList.toggle("visible",t)}),e.btnTopo.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}))},setupDonationButtons(){document.addEventListener("click",e=>{e.target.classList.contains("btn--doar-especifico")&&(e.preventDefault(),this.handleDonationButton(e.target))})},handleDonationButton(t){let a=t.dataset.causa;e.selectCausa&&(e.selectCausa.value=a,"function"==typeof o.close&&o.close(),this.scrollToDonation())},scrollToDonation(){let e=document.getElementById("doar-agora");e&&setTimeout(()=>{e.scrollIntoView({behavior:"smooth",block:"start"})},300)}};return{init(){t.init(),o.init(),a.init(),s.init(),console.log("\uD83D\uDE80 Aplica\xe7\xe3o inicializada com sucesso!")}}}();class SimpleSPA{constructor(){this.routes={"/":"home.html","/projetos":"projetos.html","/cadastro":"cadastro.html"},this.init()}async navigate(e){let t=await this.loadPage(e);document.getElementById("main-content").innerHTML=t,window.history.pushState({},e,window.location.origin+e)}}class TemplateSystem{static render(e,t){let o=document.getElementById(e),a=o.innerHTML;return Object.keys(t).forEach(e=>{a=a.replace(RegExp(`{{${e}}}`,"g"),t[e])}),a}}class FormValidator{constructor(e){this.form=document.getElementById(e),this.errors={},this.init()}init(){this.form.addEventListener("submit",e=>{this.validate()||(e.preventDefault(),this.showErrors())})}validate(){return this.validateCPF(),this.validateDataNascimento(),this.validateEmail(),0===Object.keys(this.errors).length}showErrors(){this.showAlert("Por favor, corrija os erros destacados em vermelho.")}}document.addEventListener("DOMContentLoaded",App.init);